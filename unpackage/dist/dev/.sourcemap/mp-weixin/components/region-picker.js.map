{"version":3,"sources":[null,"webpack:///D:/code/saasdemo/components/region-picker.vue?84cf","webpack:///D:/code/saasdemo/components/region-picker.vue?aeae","webpack:///D:/code/saasdemo/components/region-picker.vue?c1d3","uni-app:///components/region-picker.vue","webpack:///D:/code/saasdemo/components/region-picker.vue?1a76","webpack:///D:/code/saasdemo/components/region-picker.vue?16ba"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0H;AAC1H;AACiE;AACL;AACa;;;AAGzE;AACqK;AACrK,gBAAgB,kLAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,wFAAM;AACR,EAAE,iGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,4FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAonB,CAAgB,gpBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8BxoB,2D;;AAEA;AACA,kBADA;AAEA;AACA;AACA,kBADA;AAEA,oBAFA,EADA;;AAKA;AACA;AACA,iBAFA;AAGA;AACA;AACA,OALA,EALA;;AAYA;AACA;AACA,kBADA;AAEA,iBAFA,EAbA;;AAiBA;AACA,kBADA;AAEA,gBAFA,EAjBA,EAFA;;;AAwBA,gBAxBA;AAyBA,MAzBA,kBAyBA;AACA;AACA,oBADA;AAEA,yBAFA;AAGA,2BAHA;AAIA,gCAJA;AAKA,gBALA;AAMA,uBANA;;AAQA,GAlCA;;AAoCA,QApCA,oBAoCA,EApCA;AAqCA,SArCA,qBAqCA;AACA;AACA;AACA;;AAEA;AACA;AACA,KALA,EAKA,KALA,CAKA;AACA,KANA;;AAQA;AACA,GAhDA;AAiDA,QAjDA,oBAiDA,EAjDA;AAkDA,cAlDA;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA,qBANA;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlDA,GAnDA;AAuGA;AACA,YADA,oBACA,GADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCADA;AAEA,uCAFA;AAGA,2BAHA;;AAKA,OATA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA,KApBA;AAqBA,eArBA,uBAqBA,CArBA,EAqBA;AACA;AACA;AACA;AACA;AACA;AACA,0EADA;;AAGA;AACA;AACA,yBADA;;;AAIA;AACA;AACA,KApCA;AAqCA,qBArCA,6BAqCA,CArCA,EAqCA;AACA;AACA,mCADA;AAEA,mCAFA;;AAIA;AACA,mCANA,CAMA;;AAEA;AACA;AACA,qCAFA,CAEA;AACA;AACA;AACA;AACA;AACA,OAPA,MAOA;AACA;AACA,sCAFA,CAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KA7DA;AA8DA,yBA9DA,mCA8DA;AACA;AACA;AACA,uBADA;AAEA,iCAFA;AAGA;AACA;AACA,2BADA;AAEA,qCAFA;AAGA;AACA;AACA,+BADA;AAEA,yCAFA,EADA,EAHA,EADA,EAHA;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA,6BADA;AAEA,uCAFA;AAGA;AACA;AACA,iCADA;AAEA,2CAFA,EADA,EAHA;;;;AAUA;;AAEA;AACA;AACA;AACA;AACA;AACA,iCADA;AAEA,2CAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,KA/GA;;;AAkHA,kBAlHA,4BAkHA;AACA;AACA;AACA;AACA;AACA;AACA,iCADA,CACA;;AAEA;AACA,oCADA;AAEA,4BAFA;AAGA,mBAHA;AAIA,mBAJA;;AAMA;AACA,mCADA,CACA;;;AAGA;AACA,sCADA;AAEA,8BAFA;AAGA,2BAHA;AAIA,qBAJA;;AAMA;AACA,qCADA,CACA;AACA;AACA;AACA;AACA;AACA,wCADA;AAEA,gCAFA;AAGA,6BAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA5JA,EAvGA,E;;;;;;;;;;;;;AChCA;AAAA;AAAA;AAAA;AAA24B,CAAgB,+4BAAG,EAAC,C;;;;;;;;;;;ACA/5B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/region-picker.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./region-picker.vue?vue&type=template&id=6c4634dc&\"\nvar renderjs\nimport script from \"./region-picker.vue?vue&type=script&lang=js&\"\nexport * from \"./region-picker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./region-picker.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/region-picker.vue\"\nexport default component.exports","export * from \"-!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./region-picker.vue?vue&type=template&id=6c4634dc&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.multiArray.slice(0, _vm.column_)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./region-picker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./region-picker.vue?vue&type=script&lang=js&\"","// 支持添加默认id参数\r\n// 支持默认选项添加到省市区第一个选项\r\n// 支持确认后再更新选项结果(非双向绑定)\r\n// 支持 省市区,省市,省\r\n\r\n<template>\r\n  <view class=\"cu-form-group\">\r\n    <view class=\"title\">{{title_}}</view>\r\n    <picker\r\n      mode=\"multiSelector\"\r\n      @change=\"MultiChange\"\r\n      @columnchange=\"MultiColumnChange\"\r\n      :value=\"multiIndex\"\r\n      :range=\"multiArray.slice(0,column_)\"\r\n      range-key=\"region_name\"\r\n    >\r\n      <view class=\"uni-input\">\r\n        <text v-for=\"(item, index) in column_\" :key=\"index\" class=\"margin-right-sm\">\r\n          {{multiArrayClone[index][multiIndexClone[index]].region_name}}\r\n          <text v-if=\"index!==column_-1\">-</text>\r\n        </text>\r\n     \r\n      </view>\r\n    </picker>\r\n  </view>\r\n\r\n  <!-- </view> -->\r\n</template>\r\n<script>\r\n\t\r\nimport {apiList} from '@/common/api.js'\r\n\t\r\nexport default {\r\n  name: \"c-region\",\r\n  props: {\r\n    title_: {\r\n      type: String,\r\n      default: \"省市区\",\r\n    },\r\n    multiIndex_: {\r\n      //eg: multiIndex_=\"['14','14002','14002002']\"\r\n      type: Array,\r\n      default: function () {\r\n        return [];\r\n      },\r\n    },\r\n    //自定义第一个选项的名称\r\n    custom_: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    column_: {\r\n      type: Number,\r\n      default: 3,\r\n    },\r\n  },\r\n  components: {},\r\n  data() {\r\n    return {\r\n      multiArray: [],\r\n      multiArrayClone: [],\r\n      multiIndex: [0, 0, 0],\r\n      multiIndexClone: [0, 0, 0],\r\n      region: {},\r\n\t  provincesList:[]\r\n    };\r\n  },\r\n\r\n  onShow() {},\r\n  mounted() {\r\n\tconsole.log(123)\r\n    apiList.queryProjectAreaById('').then(res=>{\r\n    \tthis.provincesList = res.data.result\r\n\t\t\r\n\t\tconsole.log('this.provincesList',this.provincesList)\r\n\t\tthis.transitionList()\r\n    }).catch(error=>{\r\n    })\r\n\t\r\n\tconsole.log(789)\r\n  },\r\n  onLoad() {},\r\n  computed: {},\r\n  watch: {\r\n    custom_: {\r\n      handler: function (nVal, oVal) {\r\n        if (nVal) {\r\n          this.region = this.setDefaultFirstOption();\r\n        }\r\n      },\r\n      immediate: true,\r\n    },\r\n    // multiIndex_: {\r\n    //   handler: function (nVal, oVal) {\r\n    //     if (!nVal.length) {\r\n    //       const column1 = this.objToArr(this.region);\r\n    //       const column2 = this.objToArr(column1[0].child);\r\n    //       const column3 = this.objToArr(column2[0].child);\r\n    //       this.multiArray = [column1, column2, column3];\r\n    //       this.multiArrayClone = JSON.parse(JSON.stringify(this.multiArray));\r\n    //       return;\r\n    //     }\r\n    //     const provinceId = nVal[0];\r\n    //     const cityId = nVal[1];\r\n    //     const areaId = nVal[2];\r\n\r\n    //     const tempMultiArray = [];\r\n    //     const column0 = this.objToArr(this.region);\r\n\r\n    //     const index0 = column0.findIndex(\r\n    //       (item) => item.region_id === provinceId\r\n    //     );\r\n\r\n    //     const column1 = this.objToArr(column0[index0].child);\r\n\r\n    //     const index1 = column1.findIndex((item) => item.region_id === cityId);\r\n\r\n    //     tempMultiArray.push(column0);\r\n    //     this.multiIndex[0] = index0;\r\n\r\n    //     tempMultiArray.push(column1);\r\n    //     this.multiIndex[1] = index1;\r\n\r\n    //     const column2 = this.objToArr(tempMultiArray[1][index1].child);\r\n    //     const index2 = column2.findIndex((item) => item.region_id === areaId);\r\n\r\n    //     tempMultiArray.push(column2);\r\n    //     this.multiIndex[2] = index2;\r\n    //     this.multiArray = tempMultiArray;\r\n    //     this.multiArrayClone = JSON.parse(JSON.stringify(this.multiArray));\r\n    //     this.multiIndexClone = JSON.parse(JSON.stringify(this.multiIndex));\r\n    //   },\r\n    //   immediate: true,\r\n    // },\r\n  },\r\n  methods: {\r\n    objToArr(obj) {\r\n      const arr = Object.values(obj);\r\n      let defaultIndex;\r\n      let list = arr.map((item, index) => {\r\n        if (item.region_name === this.custom_) {\r\n          defaultIndex = index;\r\n        }\r\n        return {\r\n          region_id: item.region_id,\r\n          region_name: item.region_name,\r\n          child: item.child,\r\n        };\r\n      });\r\n      if (defaultIndex !== undefined) {\r\n        const temp = list[defaultIndex];\r\n        list.splice(defaultIndex, 1);\r\n        list.unshift(temp);\r\n      }\r\n      return list;\r\n    },\r\n    MultiChange(e) {\r\n      this.multiIndexClone = e.detail.value;\r\n      this.multiArrayClone = JSON.parse(JSON.stringify(this.multiArray));\r\n      const arr = [];\r\n      for (let index = 0; index < this.column_; index++) {\r\n        arr.push(\r\n          this.multiArrayClone[index][this.multiIndexClone[index]].region_id\r\n        );\r\n      }\r\n      uni.showToast({\r\n        title: \"值:\" + arr,\r\n      });\r\n\r\n      this.$emit(\"selecteRegion_\", arr);\r\n      //   return arr;\r\n    },\r\n    MultiColumnChange(e) {\r\n      let data = {\r\n        multiArray: this.multiArray,\r\n        multiIndex: this.multiIndex,\r\n      };\r\n      data.multiIndex[e.detail.column] = e.detail.value;\r\n      const column = e.detail.column; // 移动某一列\r\n\r\n      if (column === 0) {\r\n        //移动第一列\r\n        const row = data.multiIndex[0]; //移动第一列的某一行\r\n        data.multiArray[1] = this.objToArr(data.multiArray[0][row].child);\r\n        data.multiArray[2] = this.objToArr(data.multiArray[1][0].child);\r\n        data.multiIndex[1] = 0;\r\n        data.multiIndex[2] = 0;\r\n      } else if (column === 1) {\r\n        //移动第二列\r\n        const row = data.multiIndex[1]; //移动第一列的某一行\r\n        data.multiArray[2] = this.objToArr(data.multiArray[1][row].child);\r\n        data.multiIndex[2] = 0;\r\n      }\r\n\r\n      this.multiArray = [...data.multiArray];\r\n      this.multiIndex = [...data.multiIndex];\r\n    },\r\n    setDefaultFirstOption() {\r\n      let region = uni.getStorageSync(\"region\");\r\n      region[\"00\"] = {\r\n        region_id: \"00\",\r\n        region_name: this.custom_,\r\n        child: {\r\n          \"00\": {\r\n            region_id: \"00\",\r\n            region_name: this.custom_,\r\n            child: {\r\n              \"00\": {\r\n                region_id: \"00\",\r\n                region_name: this.custom_,\r\n              },\r\n            },\r\n          },\r\n        },\r\n      };\r\n\r\n      for (const provinceK in region) {\r\n        if (region.hasOwnProperty(provinceK)) {\r\n          const province = region[provinceK];\r\n          if (province.child) {\r\n            province.child[\"00\"] = {\r\n              region_id: \"00\",\r\n              region_name: this.custom_,\r\n              child: {\r\n                \"00\": {\r\n                  region_id: \"00\",\r\n                  region_name: this.custom_,\r\n                },\r\n              },\r\n            };\r\n          }\r\n\r\n          for (const cityK in province.child) {\r\n            if (province.child.hasOwnProperty(cityK)) {\r\n              const city = province.child[cityK];\r\n              if (city.child) {\r\n                city.child[\"00\"] = {\r\n                  region_id: \"00\",\r\n                  region_name: this.custom_,\r\n                };\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return region;\r\n    },\r\n  \r\n  \r\n\ttransitionList() {\r\n\t  const arr = {}\r\n\t  // 中国\r\n\t  this.provincesList.nodes.splice(2,1)\r\n\t  const objG = this.provincesList\r\n\t  for (let j = 0; j < objG.nodes.length; j++) {\r\n\t\tconst objP = objG.nodes[j]// 广东省\r\n\t\t\r\n\t\tarr[objP.id] = {\r\n\t\t  region_name: objP.areaName,\r\n\t\t  region_id: objP.id,\r\n\t\t  parent: 0,\r\n\t\t  child: []\r\n\t\t}\r\n\t\tfor (let k = 0; k < objP.nodes.length; k++) {\r\n\t\t  const objS = objP.nodes[k]// 深圳市\r\n\t\t  \r\n\t\t \r\n\t\t  arr[objP.id].child[objS.id] = {\r\n\t\t\tregion_name: objS.areaName,\r\n\t\t\tregion_id: objS.id,\r\n\t\t\tparent: objP.id,\r\n\t\t\tchild: []\r\n\t\t  }\r\n\t\t  for (let l = 0; l < objS.nodes.length; l++) {\r\n\t\t\tconst objQ = objS.nodes[l]// 南山区\r\n\t\t\t// this.areRange[2][l]=objQ.areaName\r\n\t\t\t// this.are[0][l]=objQ.areaName\r\n\t\t\t// this.are[1][l]=objQ.id\r\n\t\t\tarr[objP.id].child[objS.id].child[objQ.id] = {\r\n\t\t\t  region_name: objQ.areaName,\r\n\t\t\t  region_id: objQ.id,\r\n\t\t\t  parent: objS.id\r\n\t\t\t}\r\n\t\t\tfor (let m = 0; m < objQ.nodes.length; m++) {\r\n\t\t\t  // const objJD = objQ.nodes[m]// 西丽街道\r\n\t\t\t}\r\n\t\t  }\r\n\t\t}\r\n\t  }\r\n\t  this.region = arr\r\n\t  console.log(this.region,\" region 省市区，999999\")\r\n\t},\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.cu-form-group {\r\n  width: 100%;\r\n}\r\n.title {\r\n  text-align: center;\r\n}\r\n</style>","import mod from \"-!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./region-picker.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./region-picker.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1666715651372\n      var cssReload = require(\"D:/tool/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}